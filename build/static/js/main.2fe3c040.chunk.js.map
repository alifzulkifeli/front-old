{"version":3,"sources":["config.js","auth/index.js","core/cartHelpers.js","core/Menu.js","core/Footer.js","core/Layout.js","user/Signup.js","auth/Google.js","auth/Facebook.js","user/Signin.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","auth/AdminRoute.js","admin/AdminDashboard.js","admin/apiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","core/Checkbox.js","core/RadioBox.js","core/fixedPrices.js","core/Shop.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/Orders.js","user/Profile.js","admin/ManageProducts.js","admin/UpdateProduct.js","mercari/apiMercari.js","mercari/Mercari.js","auth/Activate.js","auth/Forgot.js","auth/Reset.js","Routes.js","index.js"],"names":["API","process","authenticate","data","next","window","localStorage","setItem","JSON","stringify","isAuthenticated","getItem","parse","emptyCart","removeItem","isActive","history","path","location","pathname","color","withRouter","className","style","to","length","user","role","cursor","onClick","fetch","method","then","response","console","log","catch","err","signout","push","class","href","Layout","title","description","children","Signup","useState","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","headers","Accept","body","json","display","onChange","type","Google","informParent","f","responseGoogle","tokenId","axios","url","idToken","clientId","onSuccess","onFailure","render","renderProps","disabled","cookiePolicy","Facebook","appId","autoLoad","callback","userID","accessToken","Signin","loading","redirectToReferrer","signin","getCategories","getFilteredProducts","skip","limit","filters","createOrder","userId","token","createOrderData","Authorization","order","ShowImage","item","src","image1","alt","Card","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","showDetails","setRun","run","undefined","redirect","setRedirect","count","setCount","addToCart","cart","Array","from","Set","map","p","find","addItem","productId","i","_id","updateItem","shouldRedirect","price","category","moment","createdAt","fromNow","showCategory","quantity","showStock","link","showViewButton","showAddToCartBtn","showDetail","productName","splice","showRemoveButton","showCartUpdateOptions","Search","categories","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","e","searchMessage","onSubmit","c","key","placeholder","autoComplete","border","searchedProducts","Home","productsByArrival","setProductsByArrival","setError","loadProductsByArrival","sortBy","PrivateRoute","Component","component","rest","props","state","Dashboard","setHistory","init","getPurchaseHistory","h","products","purchaseHistory","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","autoFocus","required","AddProduct","shipping","images","createdProduct","redirectToProfile","formData","image2","image3","image4","image5","image6","image","setImage","FormData","set","append","createProduct","entries","pair","photo","uploadImage","a","files","res","file","secure_url","handleImageDelete","multiple","Checkbox","handleFilters","checked","setCheked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","RadioBox","prices","setValue","array","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","parseInt","Product","setProduct","relatedProduct","setRelatedProduct","loadSingleProduct","read","listRelated","match","substring","Checkout","clientToken","instance","receiver","address1","address2","city","poscode","receiptName","receiptData","paymentMethod","paid","test","setTest","getToken","getBraintreeClientToken","handleAddress","number","handleReceipt","handlePhoto","data2","testHandler1","testHandler2","getTotal","reduce","currentValue","nextValue","getShipping","paymentMethodHandler","deliveryAddress","line1","line2","receiptNameData","receiptDataData","buy","$","attr","nonce","setTimeout","requestPaymentMethod","data1","amount","paymentData","processPayment","paymentMethodNonce","transaction_id","transaction","id","address","message","buy2","showAdressForm","showDropOut","accept","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","o","oIndex","borderBottom","index","showStatus","pIndex","padding","Profile","buttonText","changePassword","toast","update","lgo","auth","updateUser","profileUpdate","redirectUser","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","M_Search","seachHistory","replace","minPrice","maxPrice","setLoading","page","Math","trunc","Item1","slice","M_Product","Activate","show","jwt","decode","Forgot","passwordForgotForm","Reset","newPassword","resetPasswordLink","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2fe3c040.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL;","import { API } from '../config';\r\n\r\nexport const signup = user => {\r\n    return fetch(`${API}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(data));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('jwt');\r\n        next();\r\n        return fetch(`${API}/signout`, {\r\n            method: 'GET'\r\n        })\r\n            .then(response => {\r\n                console.log('signout', response);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == 'undefined') {\r\n        return false;\r\n    }\r\n    if (localStorage.getItem('jwt')) {\r\n        return JSON.parse(localStorage.getItem('jwt'));\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n","export const addItem = (item = [], count = 0, next = f => f) => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n        cart.push({\r\n            ...item,\r\n            count: 1\r\n        });\r\n        \r\n        // remove duplicates\r\n        // build an Array from new Set and turn it back into array using Array.from\r\n        // so that later we can re-map it\r\n        // new set will only allow unique values in it\r\n        // so pass the ids of each object/product\r\n        // If the loop tries to add the same value again, it'll get ignored\r\n        // ...with the array of ids we got on when first map() was used\r\n        // run map() on it again and return the actual product from the cart\r\n\r\n        cart = Array.from(new Set(cart.map(p => p.name))).map(name => {\r\n            return cart.find(p => p.name === name);\r\n        });\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const itemTotal = () => {\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            return JSON.parse(localStorage.getItem('cart')).length;\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nexport const getCart = () => {\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            return JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n    }\r\n    return [];\r\n};\r\n\r\nexport const updateItem = (productId, count) => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if (product._id === productId) {\r\n                cart[i].count = count;\r\n            }\r\n        });\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n    }\r\n};\r\n\r\nexport const removeItem = productName => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if (product.name === productName) {\r\n                cart.splice(i, 1);\r\n            }\r\n        });\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n    }\r\n    return cart;\r\n};\r\n\r\nexport const emptyCart = next => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('cart');\r\n        next();\r\n    }\r\n};\r\n","import React, { Fragment , useState} from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\nimport { itemTotal } from \"./cartHelpers\";\r\n\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return { color: \"#ff9900\" };\r\n    } else {\r\n        return { color: \"#ffffff\" };\r\n    }\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-primary\">\r\n            <li className=\"nav-item\">\r\n                <Link\r\n                    className=\"nav-link\"\r\n                    style={isActive(history, \"/\")}\r\n                    to=\"/\"\r\n                >\r\n                    Home\r\n                </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link\r\n                    className=\"nav-link\"\r\n                    style={isActive(history, \"/shop\")}\r\n                    to=\"/shop\"\r\n                >\r\n                    Shop\r\n                </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link\r\n                    className=\"nav-link\"\r\n                    style={isActive(history, \"/mercari\")}\r\n                    to=\"/mercari\"\r\n                >\r\n                    Mercari\r\n                </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link\r\n                    className=\"nav-link\"\r\n                    style={isActive(history, \"/cart\")}\r\n                    to=\"/cart\"\r\n                >\r\n                    Cart{\" \"}\r\n                    <sup>\r\n                        <small className=\"cart-badge\">{itemTotal()}</small>\r\n                    </sup>\r\n                </Link>\r\n            </li>\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n                <li className=\"nav-item\">\r\n                    <Link\r\n                        className=\"nav-link\"\r\n                        style={isActive(history, \"/user/dashboard\")}\r\n                        to=\"/user/dashboard\"\r\n                    >\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n                <li className=\"nav-item\">\r\n                    <Link\r\n                        className=\"nav-link\"\r\n                        style={isActive(history, \"/admin/dashboard\")}\r\n                        to=\"/admin/dashboard\"\r\n                    >\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n\r\n            {!isAuthenticated() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <Link\r\n                            className=\"nav-link\"\r\n                            style={isActive(history, \"/signin\")}\r\n                            to=\"/signin\"\r\n                        >\r\n                            Signin\r\n                        </Link>\r\n                    </li>\r\n\r\n                    <li className=\"nav-item\">\r\n                        <Link\r\n                            className=\"nav-link\"\r\n                            style={isActive(history, \"/signup\")}\r\n                            to=\"/signup\"\r\n                        >\r\n                            Signup\r\n                        </Link>\r\n                    </li>\r\n                </Fragment>\r\n            )}\r\n\r\n            {isAuthenticated() && (\r\n                <li className=\"nav-item\">\r\n                    <span\r\n                        className=\"nav-link\"\r\n                        style={{ cursor: \"pointer\", color: \"#ffffff\" }}\r\n                        onClick={() =>\r\n                            signout(() => {\r\n                                history.push(\"/\");\r\n                            })\r\n                        }\r\n                    >\r\n                        Signout\r\n                    </span>\r\n                </li>\r\n            )}\r\n        </ul>\r\n    </div>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n","import React, { Fragment , useState} from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\nimport \"../styles.css\"\r\n\r\n\r\n\r\nconst Footer = () => (\r\n    <div class=\"bottom section-padding\">\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col-md-12 text-center\">\r\n\t\t\t\t\t\t<div class=\"copyright\">\r\n\t\t\t\t\t\t\t<p> <span>2019</span> <a href=\"#\" class=\"transition\">jombeli</a> All rights reserved.</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n    </div>\r\n);\r\n\r\nexport default withRouter(Footer);\r\n\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\nimport Footer from \"./Footer\"\r\nimport \"../styles.css\";\r\n\r\nconst Layout = ({\r\n    title = \"Title\",\r\n    description = \"Description\",\r\n    className,\r\n    children\r\n}) => (\r\n    <div>\r\n        <Menu />\r\n        <div className=\"jumbotron\">\r\n            <h2>{title}</h2>\r\n            <p className=\"lead\">{description}</p>\r\n        </div>\r\n        <div className={className}>{children}</div>\r\n        <Footer/>\r\n    </div>\r\n);\r\n\r\nexport default Layout;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport { signup } from '../auth';\r\n\r\nconst Signup = () => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        success: false\r\n    });\r\n\r\n    const { name, email, password, success, error } = values;\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false });\r\n        signup({ name, email, password }).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error, success: false });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: '',\r\n                    email: '',\r\n                    password: '',\r\n                    error: '',\r\n                    success: true\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const signUpForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n            <Link to=\"/auth/password/forgot\" className=\"btn ml-3 btn-outline-danger\">\r\n                    Forgot Password\r\n                </Link>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\r\n            New account is created. Please check your email for account activation\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Signup\"\r\n            description=\"Signup to TOPH\"\r\n            className=\"container col-md-8 offset-md-2\"\r\n        >\r\n            {showSuccess()}\r\n            {showError()}\r\n            {signUpForm()}\r\n          \r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Signup;\r\n","import React from 'react';\r\nimport GoogleLogin from 'react-google-login';\r\nimport axios from 'axios';\r\n\r\nconst Google = ({ informParent = f => f }) => {\r\n    const responseGoogle = response => {\r\n        console.log(response.tokenId);\r\n        axios({\r\n            method: 'POST',\r\n            url: `${process.env.REACT_APP_API}/google-login`,\r\n            data: { idToken: response.tokenId }\r\n        })\r\n            .then(response => {\r\n                console.log('GOOGLE SIGNIN SUCCESS', response);\r\n                // inform parent component\r\n                informParent(response);\r\n            })\r\n            .catch(error => {\r\n                console.log('GOOGLE SIGNIN ERROR', error.response);\r\n            });\r\n    };\r\n    return (\r\n        <div className=\"pb-3\">\r\n            <GoogleLogin\r\n                clientId={`${process.env.REACT_APP_GOOGLE_CLIENT_ID}`}\r\n                onSuccess={responseGoogle}\r\n                onFailure={responseGoogle}\r\n                render={renderProps => (\r\n                    <button\r\n                        onClick={renderProps.onClick}\r\n                        disabled={renderProps.disabled}\r\n                        className=\"btn btn-danger btn-lg btn-block\"\r\n                    >\r\n                        <i className=\"fab fa-google pr-2\"></i> Login with Google\r\n                    </button>\r\n                )}\r\n                cookiePolicy={'single_host_origin'}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Google;\r\n","import React from 'react';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\nimport axios from 'axios';\r\n\r\nconst Facebook = ({ informParent = f => f }) => {\r\n    const responseFacebook = response => {\r\n        console.log(response);\r\n        axios({\r\n            method: 'POST',\r\n            url: `${process.env.REACT_APP_API}/facebook-login`,\r\n            data: { userID: response.userID, accessToken: response.accessToken }\r\n        })\r\n            .then(response => {\r\n                console.log('FACEBOOK SIGNIN SUCCESS', response);\r\n                // inform parent component\r\n                informParent(response);\r\n            })\r\n            .catch(error => {\r\n                console.log('FACEBOOK SIGNIN ERROR', error.response);\r\n            });\r\n    };\r\n    return (\r\n        <div className=\"pb-3\">\r\n            <FacebookLogin\r\n                appId={`${process.env.REACT_APP_FACEBOOK_APP_ID}`}\r\n                autoLoad={false}\r\n                callback={responseFacebook}\r\n                render={renderProps => (\r\n                    <button onClick={renderProps.onClick} className=\"btn btn-primary btn-lg btn-block\">\r\n                        <i className=\"fab fa-facebook pr-2\"></i> Login with Facebook\r\n                    </button>\r\n                )}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Facebook;\r\n","import React, { useState } from \"react\";\r\nimport { Redirect , Link} from \"react-router-dom\";\r\nimport Layout from \"../core/Layout\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\r\nimport Google from '../auth/Google';\r\nimport Facebook from '../auth/Facebook';\r\n\r\n\r\nconst Signin = () => {\r\n    const [values, setValues] = useState({\r\n        email: \"alifzulkifeli@gmail.com\",\r\n        password: \"aiman98\",\r\n        error: \"\",\r\n        loading: false,\r\n        redirectToReferrer: false\r\n    });\r\n\r\n    const { email, password, loading, error, redirectToReferrer } = values;\r\n    const { user } = isAuthenticated();\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false, loading: true });\r\n        signin({ email, password }).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error, loading: false });\r\n            } else {\r\n                authenticate(data, () => {\r\n                    setValues({\r\n                        ...values,\r\n                        redirectToReferrer: true\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const signUpForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input\r\n                    onChange={handleChange(\"email\")}\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input\r\n                    onChange={handleChange(\"password\")}\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    value={password}\r\n                />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n            <Link to=\"/auth/password/forgot\" className=\"btn ml-3 btn-outline-danger\">\r\n                    Forgot Password\r\n                </Link>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n\r\n   \r\n\r\n    const informParent = response => {\r\n        authenticate(response.data, () => {\r\n            setValues({\r\n                ...values,\r\n                redirectToReferrer: true\r\n            });\r\n        });\r\n    };\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-info\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToReferrer) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to=\"/admin/dashboard\" />;\r\n            } else {\r\n                return <Redirect to=\"/user/dashboard\" />;\r\n            }\r\n        }\r\n        if (isAuthenticated()) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Signin\"\r\n            description=\"Signin to TOPH\"\r\n            className=\"container col-md-8 offset-md-2\"\r\n        >\r\n            {showLoading()}\r\n            {showError()}\r\n            <Google informParent={informParent} />\r\n            <Facebook informParent={informParent} />\r\n            {signUpForm()}\r\n            {redirectUser()}\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Signin;\r\n","import { API } from \"../config\";\r\nimport queryString from \"query-string\";\r\n\r\n\r\nexport const getProducts = sortBy => {\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=8`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n    const data = {\r\n        limit,\r\n        skip,\r\n        filters\r\n    };\r\n    return fetch(`${API}/products/by/search`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const list = params => {\r\n    const query = queryString.stringify(params);\r\n    console.log(\"query\", query);\r\n    return fetch(`${API}/products/search?${query}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const read = productId => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const listRelated = productId => {\r\n    return fetch(`${API}/products/related/${productId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n    return fetch(`${API}/braintree/getToken/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n    return fetch(`${API}/braintree/payment/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(paymentData)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n    return fetch(`${API}/order/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ order: createOrderData })\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n","import React from \"react\";\r\nimport { API } from \"../config\";\r\nimport ReactDOM from \"react-dom\";\r\nimport '../styles.css'\r\n\r\nconst ShowImage = ({ item}) => (\r\n    <div className=\"product-img box text-center img-fluid alligator-turtle\"  >\r\n        <img\r\n            src={`${item.image1}`}\r\n            alt={item.name}\r\n            className=\"mb-3 img-fluid \"\r\n            \r\n        />\r\n    </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","import React, { useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport ShowImage from './ShowImage';\r\nimport moment from 'moment';\r\nimport { addItem, updateItem, removeItem, itemTotal } from './cartHelpers';\r\n\r\n\r\nconst Card = ({\r\n  product,\r\n  showViewProductButton = true,\r\n  showAddToCartButton = true,\r\n  cartUpdate = false,\r\n  showRemoveProductButton = false,\r\n  showDetails = false,\r\n  setRun = f => f,\r\n  run = undefined\r\n  // changeCartSize\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const showViewButton = showViewProductButton => {\r\n    if (product._id) {\r\n      return (\r\n        showViewProductButton && (\r\n          <Link to={`/product/${product._id}`} className=\"mr-2\">\r\n            <button className=\"btn btn-outline-primary mt-2 mb-2 card-btn-1\">View Product</button>\r\n          </Link>\r\n        )\r\n      );\r\n    }\r\n    return (\r\n      showViewProductButton && (\r\n      \r\n        <a href={product.link}>\r\n          <button className=\"btn btn-outline-primary  card-btn-1 mr-2\">View Product</button>\r\n        </a>\r\n        \r\n        // <Link to={{pathname:product.link}} className=\"mr-2\">\r\n        //   <button className=\"btn btn-outline-primary mt-2 mb-2 card-btn-1\">View Product</button>\r\n        // </Link>\r\n      )\r\n    );\r\n  };\r\n  const addToCart = () => {\r\n    // console.log('added');\r\n    addItem(product, setRedirect(true));\r\n  };\r\n\r\n  const shouldRedirect = redirect => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCartBtn = showAddToCartButton => {\r\n    return (\r\n      showAddToCartButton && (\r\n        <button onClick={() => {\r\n          addToCart(); // run useEffect in parent Cart\r\n        }} className=\"btn btn-outline-warning mt-2 mb-2 card-btn-1  \">\r\n          Add to cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showStock = quantity => {\r\n    if (product._id) {\r\n      return quantity > 0 ? (\r\n        <span className=\"badge badge-primary badge-pill\">In Stock </span>\r\n      ) : (\r\n        <span className=\"badge badge-primary badge-pill\">Out of Stock </span>\r\n      );\r\n    }\r\n    \r\n  };\r\n\r\n  const handleChange = productId => event => {\r\n    setRun(!run); // run useEffect in parent Cart\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(productId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = cartUpdate => {\r\n    if (product._id) {\r\n      return (\r\n        cartUpdate && (\r\n          <div>\r\n            <div className=\"input-group mb-3\">\r\n              <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\">Adjust Quantity</span>\r\n              </div>\r\n              <input type=\"number\" className=\"form-control\" value={count} onChange={handleChange(product._id)} />\r\n            </div>\r\n          </div>\r\n        )\r\n      );\r\n    }else{\r\n      return(\r\n        cartUpdate && (\r\n          <p>you cannot edit product quantity, learn here</p>\r\n        )\r\n        \r\n      )\r\n    }\r\n    \r\n  };\r\n  const showRemoveButton = showRemoveProductButton => {\r\n    return (\r\n      showRemoveProductButton && (\r\n        <button\r\n          onClick={() => {\r\n            removeItem(product.name);\r\n            setRun(!run); // run useEffect in parent Cart\r\n          }}\r\n          className=\"btn btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove Product\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showDetail = showDetails => {\r\n    return (\r\n      showDetails && (\r\n        <p className=\"card-p black-10\">{product.description}</p>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showCategory = () => {\r\n    if (product._id) {\r\n      return (\r\n        <div><p className=\"black-9\">Category: {product.category && product.category.name}</p>\r\n        <p className=\"black-8\">Added on {moment(product.createdAt).fromNow()}</p>\r\n        </div>\r\n        \r\n      );\r\n    }\r\n  }\r\n\r\n  \r\n  return (\r\n    <div className=\"card mt-5 border border-primary\" >\r\n      <div className=\"card-header card-header-1 \">{product.name}</div>\r\n      <div className=\"card-body\" >\r\n        {shouldRedirect(redirect)}\r\n        <ShowImage item={product}/>\r\n        {/* <p className=\"card-p  mt-2\">{product.description.substring(0, 100)} </p> */}\r\n        <p className=\"card-p black-10\">RM {product.price}</p>\r\n        {showCategory()}\r\n        \r\n        \r\n        {showStock(product.quantity)}\r\n        <br />\r\n\r\n        {showViewButton(showViewProductButton)}\r\n\r\n        {showAddToCartBtn(showAddToCartButton)}\r\n\r\n        {showDetail(showDetails)}\r\n        \r\n        {showRemoveButton(showRemoveProductButton)}\r\n\r\n        {showCartUpdateOptions(cartUpdate)}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getCategories, list } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\n\r\nconst Search = () => {\r\n    const [data, setData] = useState({\r\n        categories: [],\r\n        category: \"\",\r\n        search: \"\",\r\n        results: [],\r\n        searched: false\r\n    });\r\n\r\n    const { categories, category, search, results, searched } = data;\r\n\r\n    const loadCategories = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setData({ ...data, categories: data });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n    }, []);\r\n\r\n    const searchData = () => {\r\n        // console.log(search, category);\r\n        if (search) {\r\n            list({ search: search || undefined, category: category }).then(\r\n                response => {\r\n                    if (response.error) {\r\n                        console.log(response.error);\r\n                    } else {\r\n                        setData({ ...data, results: response, searched: true });\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    const searchSubmit = e => {\r\n        e.preventDefault();\r\n        searchData();\r\n    };\r\n\r\n    const handleChange = name => event => {\r\n        setData({ ...data, [name]: event.target.value, searched: false });\r\n    };\r\n\r\n    const searchMessage = (searched, results) => {\r\n        if (searched && results.length > 0) {\r\n            return `Found ${results.length} products`;\r\n        }\r\n        if (searched && results.length < 1) {\r\n            return `No products found`;\r\n        }\r\n    };\r\n\r\n    const searchedProducts = (results = []) => {\r\n        return (\r\n            <div>\r\n                <h2 className=\"mt-4 mb-4\">\r\n                    {searchMessage(searched, results)}\r\n                </h2>\r\n\r\n                <div className=\"row\">\r\n                    {results.map((product, i) => (\r\n                        <div className=\"col-4 mb-3\">\r\n                            <Card key={i} product={product} />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const searchForm = () => (\r\n        <form onSubmit={searchSubmit}>\r\n            <span className=\"input-group-text\">\r\n                <div className=\"input-group input-group-lg\">\r\n                    <div className=\"input-group-prepend\">\r\n                        <select\r\n                            className=\"btn mr-2\"\r\n                            onChange={handleChange(\"category\")}\r\n                        >\r\n                            <option value=\"All\">All</option>\r\n                            {categories.map((c, i) => (\r\n                                <option key={i} value={c._id}>\r\n                                    {c.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <input\r\n                        type=\"search\"\r\n                        className=\"form-control\"\r\n                        onChange={handleChange(\"search\")}\r\n                        placeholder=\"Search by name\"\r\n                        autoComplete=\"on\"\r\n                        name=\"product-search\"\r\n                    />\r\n                </div>\r\n                <div\r\n                    className=\"btn input-group-append\"\r\n                    style={{ border: \"none\" }}\r\n                >\r\n                    <button className=\"input-group-text\">Search</button>\r\n                </div>\r\n            </span>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"container mb-3\">{searchForm()}</div>\r\n            <div className=\"container-fluid mb-3\">\r\n                {searchedProducts(results)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { getProducts } from './apiCore';\r\nimport Card from './Card';\r\nimport Search from './Search';\r\n\r\nconst Home = () => {\r\n    const [productsBySell, setProductsBySell] = useState([]);\r\n    const [productsByArrival, setProductsByArrival] = useState([]);\r\n    // eslint-disable-next-line\r\n    const [error, setError] = useState(false);\r\n\r\n \r\n\r\n    const loadProductsByArrival = () => {\r\n        getProducts('createdAt').then(data => {\r\n            console.log(data);\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProductsByArrival(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadProductsByArrival();\r\n       \r\n    }, []);\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Welcome to TOPH\"\r\n            description=\"The Best Way to Shopping In Japan\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <Search />\r\n            <h2 className=\"mb-4\">New Arrivals</h2>\r\n            <div className=\"row\">\r\n                {productsByArrival.map((product, i) => (\r\n                    <div key={i} className=\"col-sm-6 col-md-4 col-lg-3 col-xl-3 mb-3\">\r\n                        <Card product={product} />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n        \r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","// eslint-disable-next-line\r\nimport React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            isAuthenticated() ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect\r\n                    to={{\r\n                        pathname: \"/signin\",\r\n                        state: { from: props.location }\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getPurchaseHistory } from \"./apiUser\";\r\nimport moment from \"moment\";\r\n\r\nconst Dashboard = () => {\r\n    const [history, setHistory] = useState([]);\r\n\r\n    const {\r\n        user: { _id, name, email, role }\r\n    } = isAuthenticated();\r\n    const token = isAuthenticated().token;\r\n\r\n    const init = (userId, token) => {\r\n        getPurchaseHistory(userId, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setHistory(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        // eslint-disable-next-line\r\n        init(_id, token);\r\n    }, []);\r\n\r\n    const userLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/cart\">\r\n                            My Cart\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to={`/profile/${_id}`}>\r\n                            Update Profile\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const userInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">\r\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const purchaseHistory = history => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">Purchase history</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        {history.map((h, i) => {\r\n                            return (\r\n                                <div>\r\n                                    <hr />\r\n                                    {h.products.map((p, i) => {\r\n                                        return (\r\n                                            <div key={i}>\r\n                                                <h6>Product name: {p.name}</h6>\r\n                                                <h6>\r\n                                                    Product price: ${p.price}\r\n                                                </h6>\r\n                                                <h6>\r\n                                                    Purchased date:{\" \"}\r\n                                                    {moment(\r\n                                                        p.createdAt\r\n                                                    ).fromNow()}\r\n                                                </h6>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Dashboard\"\r\n            description={`G'day ${name}!`}\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">{userLinks()}</div>\r\n                <div className=\"col-9\">\r\n                    {userInfo()}\r\n                    {purchaseHistory(history)}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { API } from \"../config\";\r\n\r\nexport const read = (userId, token) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const update = (userId, token, user) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateUser = (user, next) => {\r\n    if (typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"jwt\")) {\r\n            let auth = JSON.parse(localStorage.getItem(\"jwt\"));\r\n            auth.user = user;\r\n            localStorage.setItem(\"jwt\", JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n};\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n    return fetch(`${API}/orders/by/user/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n","// eslint-disable-next-line\r\nimport React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect\r\n                    to={{\r\n                        pathname: \"/signin\",\r\n                        state: { from: props.location }\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashboard = () => {\r\n    const {\r\n        // eslint-disable-next-line\r\n        user: { _id, name, email, role }\r\n    } = isAuthenticated();\r\n\r\n    const adminLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">Admin Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/category\">\r\n                            Create Category\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/product\">\r\n                            Create Product\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/admin/orders\">\r\n                            View Orders\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/admin/products\">\r\n                            Manage Products\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const adminInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">\r\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Dashboard\"\r\n            description={`G'day ${name}!`}\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">{adminLinks()}</div>\r\n                <div className=\"col-9\">{adminInfo()}</div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import { API } from '../config';\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            // content type?\r\n            'Content-Type': 'application/json',\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n        \r\n        \r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const getCategory = categoryId => {\r\n    return fetch(`${API}/category/${categoryId}`, {\r\n        method: 'GET'\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: 'GET'\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const listOrders = (userId, token) => {\r\n    return fetch(`${API}/order/list/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n    return fetch(`${API}/order/status-values/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n    return fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ status, orderId })\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\n/**\r\n * to perform crud on product\r\n * get all products\r\n * get a single product\r\n * update single product\r\n * delete single product\r\n */\r\n\r\nexport const getProducts = () => {\r\n    return fetch(`${API}/products?limit=undefined`, {\r\n        method: 'GET'\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getProduct = productId => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: 'GET'\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n    const [name, setName] = useState(\"\");\r\n    const [error, setError] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    // destructure user and token from localstorage\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const handleChange = e => {\r\n        setError(\"\");\r\n        setName(e.target.value);\r\n    };\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(false);\r\n        // make request to api to create category\r\n        createCategory(user._id, token, { name }).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setError(\"\");\r\n                setSuccess(true);\r\n            }\r\n        });\r\n    };\r\n\r\n    const newCategoryFom = () => (\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={handleChange}\r\n                    value={name}\r\n                    autoFocus\r\n                    required\r\n                />\r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Create Category</button>\r\n        </form>\r\n    );\r\n\r\n    const showSuccess = () => {\r\n        if (success) {\r\n            return <h3 className=\"text-success\">{name} is created</h3>;\r\n        }\r\n    };\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            return <h3 className=\"text-danger\">Category should be unique</h3>;\r\n        }\r\n    };\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n                Back to Dashboard\r\n            </Link>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Add a new category\"\r\n            description={`G'day ${user.name}, ready to add a new category?`}\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newCategoryFom()}\r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport { createProduct, getCategories } from './apiAdmin';\r\nimport '../script'\r\nimport { log } from 'util';\r\n\r\nconst AddProduct = () => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        categories: [],\r\n        category: '',\r\n        shipping: '',\r\n        images:'',\r\n        quantity: '',     \r\n        loading: false,\r\n        error: '',\r\n        createdProduct: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    });\r\n\r\n    const [image, setImage] = useState({\r\n        image1:'',\r\n        image2:'',\r\n        image3:'',\r\n        image4:'',\r\n        image5:'',\r\n        image6:''\r\n        },   \r\n    )\r\n\r\n    \r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        categories,\r\n        category,\r\n        shipping,\r\n        images,\r\n        quantity,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n    const {\r\n        image1,\r\n        image2,\r\n        image3,\r\n        image4,\r\n        image5,\r\n        image6\r\n    } = image;\r\n\r\n    // load categories and set form data\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    categories: data,\r\n                    formData: new FormData()\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init();\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value = event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        formData.append('image1', image1);\r\n        formData.append('image2', image2);\r\n        formData.append('image3', image3);\r\n        formData.append('image4', image4);\r\n        formData.append('image5', image5);\r\n        formData.append('image6', image6);\r\n        setValues({ ...values, error: '', loading: true });\r\n        console.log(values);\r\n        \r\n        \r\n        createProduct(user._id, token, formData).then(data => {\r\n \r\n            for (var pair of formData.entries()) {\r\n                console.log(pair[0]+ ', ' + pair[1]); \r\n            }\r\n            \r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: '',\r\n                    description: '',\r\n                    photo: '',\r\n                    price: '',\r\n                    quantity: '',\r\n                    loading: false,\r\n                    createdProduct: data.name\r\n                });\r\n\r\n                setImage({\r\n                        image1:'',\r\n                        image2:'',\r\n                        image3:'',\r\n                        image4:'',\r\n                        image5:'',\r\n                        image6:''\r\n                    }\r\n                )\r\n            }\r\n        });\r\n    };\r\n\r\n    const uploadImage = name => async e => {\r\n        const files = e.target.files;\r\n        const data = new FormData()\r\n        data.append('file', files[0])\r\n        data.append('upload_preset', 'jombeli')\r\n        \r\n        \r\n        const res = await fetch(\r\n            'https://api.cloudinary.com/v1_1/drzyjnnsq/image/upload', {\r\n                method: 'POST',\r\n                body: data \r\n            }\r\n        )\r\n        \r\n        const file = await res.json()\r\n        setImage({...image, [name]: file.secure_url})  \r\n        \r\n    }\r\n\r\n     const handleImageDelete = (e) => {\r\n        setValues({[e.target.value]: \"\"})   \r\n     }\r\n\r\n\r\n    const imageInput = () => {\r\n        return(\r\n            \r\n            <div>\r\n            <div className=\"form-group\">\r\n                \r\n            <label className=\"text-muted\">Image</label>\r\n            {image1 ? (<div><img src={image1} className=\"img-thumbnail rounded img form\" alt=\"\"/><button className='button button-danger' value=\"image1\" onClick={handleImageDelete}>delete</button></div>) : \r\n            (\r\n            <div><input onChange={uploadImage('image1')} type=\"file\" className=\"form-control-file\" multiple/>\r\n            </div>\r\n            )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n            \r\n            {image2 ? (<div><img src={image2} className=\"img-thumbnail rounded img form\" alt=\"\"/><button className='button button-danger' value=\"image2\" onClick={handleImageDelete}>delete</button></div>) : \r\n            (\r\n            <div><input onChange={uploadImage('image2')} type=\"file\" className=\"form-control-file\" multiple/>\r\n            </div>\r\n            )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n            \r\n            {image3 ? (<div><img src={image3} className=\"img-thumbnail rounded img form\" alt=\"\"/><button className='button button-danger' value=\"image3\" onClick={handleImageDelete}>delete</button></div>) : \r\n            (\r\n            <div><input onChange={uploadImage('image3')} type=\"file\" className=\"form-control-file\" multiple/>\r\n            </div>\r\n            )}\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n            \r\n            {image4 ? (<div><img src={image4} className=\"img-thumbnail rounded img form\" alt=\"\"/><button className='button button-danger' value=\"image4\" onClick={handleImageDelete}>delete</button></div>) : \r\n            (\r\n            <div><input onChange={uploadImage('image4')} type=\"file\" className=\"form-control-file\" multiple/>\r\n            </div>\r\n            )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n            \r\n            {image5 ? (<div><img src={image5} className=\"img-thumbnail rounded img form\" alt=\"\"/><button className='button button-danger' value=\"image5\" onClick={handleImageDelete}>delete</button></div>) : \r\n            (\r\n            <div><input onChange={uploadImage('image5')} type=\"file\" className=\"form-control-file\" multiple/>\r\n            </div>\r\n            )}\r\n        </div>\r\n        <div className=\"form-group\">\r\n            \r\n            {image6 ? (<div><img src={image6} className=\"img-thumbnail rounded img form\" alt=\"\"/><button className='button button-danger' value=\"image6\" onClick={handleImageDelete}>delete</button></div>) : \r\n            (\r\n            <div><input onChange={uploadImage('image6')} type=\"file\" className=\"form-control-file\" multiple/>\r\n            </div>\r\n            )}\r\n        </div>\r\n        </div>\r\n        )\r\n    }\r\n\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n\r\n         \r\n          {imageInput()}\r\n      \r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                    <option>Please select</option>\r\n                    {categories &&\r\n                        categories.map((c, i) => (\r\n                            <option key={i} value={c._id}>\r\n                                {c.name}\r\n                            </option>\r\n                        ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\">\r\n                    <option>Please select</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary\">Create Product</button>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: createdProduct ? '' : 'none' }}>\r\n            <h2>{`${createdProduct}`} is created!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-success\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n\r\n    return (\r\n        <Layout title=\"Add a new product\" description={`G'day ${user.name}, ready to add a new product?`}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showLoading()}\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState } from \"react\";\r\n\r\nconst Checkbox = ({ categories, handleFilters }) => {\r\n    const [checked, setCheked] = useState([]);\r\n\r\n    const handleToggle = c => () => {\r\n        // return the first index or -1\r\n        const currentCategoryId = checked.indexOf(c);\r\n        const newCheckedCategoryId = [...checked];\r\n        // if currently checked was not already in checked state > push\r\n        // else pull/take off\r\n        if (currentCategoryId === -1) {\r\n            newCheckedCategoryId.push(c);\r\n        } else {\r\n            newCheckedCategoryId.splice(currentCategoryId, 1);\r\n        }\r\n        // console.log(newCheckedCategoryId);\r\n        setCheked(newCheckedCategoryId);\r\n        handleFilters(newCheckedCategoryId);\r\n    };\r\n\r\n    return categories.map((c, i) => (\r\n        <li key={i} className=\"list-unstyled\">\r\n            <input\r\n                onChange={handleToggle(c._id)}\r\n                value={checked.indexOf(c._id === -1)}\r\n                type=\"checkbox\"\r\n                className=\"form-check-input\"\r\n            />\r\n            <label className=\"form-check-label\">{c.name}</label>\r\n        </li>\r\n    ));\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useState } from \"react\";\r\n\r\nconst RadioBox = ({ prices, handleFilters }) => {\r\n    const [value, setValue] = useState(0);\r\n\r\n    const handleChange = event => {\r\n        handleFilters(event.target.value);\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    return prices.map((p, i) => (\r\n        <div key={i}>\r\n            <input\r\n                onChange={handleChange}\r\n                value={`${p._id}`}\r\n                name={p}\r\n                type=\"radio\"\r\n                className=\"mr-2 ml-4\"\r\n            />\r\n            <label className=\"form-check-label\">{p.name}</label>\r\n        </div>\r\n    ));\r\n};\r\n\r\nexport default RadioBox;\r\n","export const prices = [\r\n    {\r\n        _id: 0,\r\n        name: \"Any\",\r\n        array: []\r\n    },\r\n    {\r\n        _id: 1,\r\n        name: \"$0 to $9\",\r\n        array: [0, 9]\r\n    },\r\n    {\r\n        _id: 2,\r\n        name: \"$10 to $19\",\r\n        array: [10, 19]\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: \"$20 to $29\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 4,\r\n        name: \"$30 to $39\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 5,\r\n        name: \"More than $40\",\r\n        array: [40, 99]\r\n    }\r\n];\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport Card from \"./Card\";\r\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport RadioBox from \"./RadioBox\";\r\nimport { prices } from \"./fixedPrices\";\r\n\r\nconst Shop = () => {\r\n    const [myFilters, setMyFilters] = useState({\r\n        filters: { category: [], price: [] }\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n    // eslint-disable-next-line\r\n    const [error, setError] = useState(false);\r\n    // eslint-disable-next-line\r\n    const [limit, setLimit] = useState(6);\r\n    const [skip, setSkip] = useState(0);\r\n    const [size, setSize] = useState(0);\r\n    const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadFilteredResults = newFilters => {\r\n        // console.log(newFilters);\r\n        getFilteredProducts(skip, limit, newFilters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setFilteredResults(data.data);\r\n                setSize(data.size);\r\n                setSkip(0);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadMore = () => {\r\n        let toSkip = skip + limit;\r\n        // console.log(newFilters);\r\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setFilteredResults([...filteredResults, ...data.data]);\r\n                setSize(data.size);\r\n                setSkip(toSkip);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadMoreButton = () => {\r\n        return (\r\n            size > 0 &&\r\n            size >= limit && (\r\n                <button onClick={loadMore} className=\"btn btn-warning mb-5\">\r\n                    Load more\r\n                </button>\r\n            )\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        init();\r\n        // eslint-disable-next-line\r\n        loadFilteredResults(skip, limit, myFilters.filters);\r\n    }, []);\r\n\r\n    const handleFilters = (filters, filterBy) => {\r\n        // console.log(\"SHOP\", filters, filterBy);\r\n        const newFilters = { ...myFilters };\r\n        newFilters.filters[filterBy] = filters;\r\n\r\n        if (filterBy === \"price\") {\r\n            let priceValues = handlePrice(filters);\r\n            newFilters.filters[filterBy] = priceValues;\r\n        }\r\n        loadFilteredResults(myFilters.filters);\r\n        setMyFilters(newFilters);\r\n    };\r\n\r\n    const handlePrice = value => {\r\n        const data = prices;\r\n        let array = [];\r\n\r\n        for (let key in data) {\r\n            if (data[key]._id === parseInt(value)) {\r\n                array = data[key].array;\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n    \r\n\r\n    return (\r\n        <Layout\r\n            title=\"Shop from TOPH\"\r\n            description=\"Search and find product from our store\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-4\">\r\n                    <h4>Filter by categories</h4>\r\n                    <ul>\r\n                        <Checkbox\r\n                            categories={categories}\r\n                            handleFilters={filters =>\r\n                                handleFilters(filters, \"category\")\r\n                            }\r\n                        />\r\n                    </ul>\r\n\r\n                    <h4>Filter by price range</h4>\r\n                    <div>\r\n                        <RadioBox\r\n                            prices={prices}\r\n                            handleFilters={filters =>\r\n                                handleFilters(filters, \"price\")\r\n                            }\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-8\">\r\n                    <h2 className=\"mb-4\">Products</h2>\r\n                    <div className=\"row\">\r\n                        {filteredResults.map((product, i) => (\r\n                            <div key={i} className=\"col-sm-12 col-md-6 col-lg-4 col-xl-4 mb-3\">\r\n                                <Card product={product} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                    <hr />\r\n                    {loadMoreButton()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Shop;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { read, listRelated } from './apiCore';\r\nimport Card from './Card';\r\n\r\nconst Product = props => {\r\n    const [product, setProduct] = useState({});\r\n    const [relatedProduct, setRelatedProduct] = useState([]);\r\n    // eslint-disable-next-line\r\n    const [error, setError] = useState(false);\r\n\r\n    const loadSingleProduct = productId => {\r\n        read(productId).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProduct(data);\r\n                // fetch related products\r\n                listRelated(data._id).then(data => {\r\n                    if (data.error) {\r\n                        setError(data.error);\r\n                    } else {\r\n                        setRelatedProduct(data);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const productId = props.match.params.productId;\r\n        loadSingleProduct(productId);\r\n    }, [props]);\r\n\r\n    return (\r\n        <Layout\r\n            title={product && product.name}\r\n            description={product && product.description && product.description.substring(0, 100)}\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-8\">\r\n                    {product && product.description && <Card product={product} showViewProductButton={false} showDetails={true} />}\r\n                </div>\r\n\r\n                <div className=\"col-4\">\r\n                    <h4>Related products</h4>\r\n                    {relatedProduct.map((p, i) => (\r\n                        <div className=\"mb-3\" key={i}>\r\n                            <Card product={p}  />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getProducts, getBraintreeClientToken, processPayment, createOrder} from './apiCore';\r\nimport { emptyCart } from './cartHelpers';\r\nimport Card from './Card';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\nimport DropIn from 'braintree-web-drop-in-react';\r\nimport $ from 'jquery';\r\n\r\n\r\nconst Checkout = ({ products, setRun = f => f, run = undefined }) => {\r\n    const [data, setData] = useState({\r\n        loading: false,\r\n        success: false,\r\n        clientToken: null,\r\n        error: '',\r\n        instance: {},\r\n        receiver:'',\r\n        address1: '',\r\n        address2: '',\r\n        city:'',\r\n        poscode:'',\r\n        shipping:0,\r\n        state:'',\r\n        receiptName: '',\r\n        receiptData:'',\r\n        paymentMethod:'',\r\n        paid: false,\r\n        cart: false\r\n\r\n    });\r\n    const [test , setTest] = useState('satu')\r\n    const userId = isAuthenticated() && isAuthenticated().user._id;\r\n    const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n    const getToken = (userId, token) => {\r\n        getBraintreeClientToken(userId, token).then(data => {\r\n            if (data.error) {\r\n                setData({ ...data, error: data.error });\r\n            } else {\r\n                setData({ clientToken: data.clientToken });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getToken(userId, token);\r\n    }, []);\r\n\r\n    const handleAddress = number => event => {\r\n        setData({ ...data, [number]: event.target.value });\r\n        console.log(number);\r\n        \r\n    };\r\n;\r\n\r\n    const handleReceipt = event => {\r\n        setData({ ...data, receiptName: event.target.value });\r\n    };\r\n    const transfer = () => {\r\n       \r\n        setData({ transfer: true });\r\n        console.log(data.transfer);\r\n    };\r\n    const credit = () => {\r\n     \r\n        setData({ transfer: false });\r\n        console.log(data.transfer);\r\n    };\r\n    \r\n\r\n    const handlePhoto = async e => {\r\n        const files = e.target.files;\r\n        const data2 = new FormData()\r\n        data2.append('file', files[0])\r\n        data2.append('upload_preset', 'jombeli-receipt')\r\n        const res = await fetch(\r\n            'https://api.cloudinary.com/v1_1/drzyjnnsq/image/upload', {\r\n                method: 'POST',\r\n                body: data2\r\n            }\r\n        )\r\n\r\n        const file = await res.json()\r\n        setData({ ...data, receiptData: file.secure_url  }); \r\n    }\r\n\r\n    \r\n    const testHandler1 = () => {\r\n        setTest(false)\r\n    }\r\n\r\n    const testHandler2 = () => {\r\n        setTest(true)\r\n    }\r\n    const getTotal = () => {\r\n        return products.reduce((currentValue, nextValue) => {\r\n            return currentValue + nextValue.count * nextValue.price;\r\n        }, 0);\r\n    };\r\n\r\n    const getShipping = (state) => {\r\n        if (state===\"Kelantan\") {\r\n            return 20;\r\n        }else if (state === \"Kedah\") {\r\n            return 10;\r\n        }\r\n        return 0;\r\n    }\r\n \r\n\r\n\r\n    const showCheckout = () => {\r\n        return isAuthenticated() ? (\r\n            <div> \r\n                {showAdressForm()}\r\n                {paymentMethodHandler(data.paid)}\r\n                <div>{showDropIn() || showDropOut()}</div>\r\n                \r\n           \r\n            </div>\r\n           \r\n         \r\n        ) : (\r\n            <Link to=\"/signin\">\r\n                <button className=\"btn btn-primary\">Sign in to checkout</button>\r\n            </Link>\r\n        );\r\n    };\r\n\r\n    const paymentMethodHandler = (paid) => {\r\n        return(\r\n            <div>\r\n        {data.clientToken !== null && products.length > 0 ? (\r\n        <div style={{ display: paid ? 'none' : '' }}>\r\n            <button onClick={testHandler1} className=\"btn btn-primary btn-block\">\r\n                Pay With Cash Deposit / ATM \r\n            </button>\r\n            <button onClick={testHandler2} className=\"btn btn-primary btn-block\">\r\n                Pay With Credit Card / Paypal\r\n            </button>\r\n        </div>\r\n        ) : null}</div>\r\n        )\r\n    };\r\n\r\n\r\n    let deliveryAddress = {\r\n        name:data.receiver,\r\n        line1:data.address1,\r\n        line2:data.address2,\r\n        city: data.city,\r\n        poscode: data.poscode,\r\n        state: data.state\r\n    };\r\n    \r\n    \r\n    let receiptNameData = data.receiptName;\r\n    let receiptDataData = data.receiptData;\r\n\r\n    \r\n    const buy = () => {\r\n        setData({ loading: true });\r\n\r\n        $('.btn-afterblur').attr(\"disabled\", true);\r\n        const enableBlur =  () => {\r\n            $('.btn-afterblur').attr(\"disabled\", false);\r\n        }\r\n        setTimeout(enableBlur, 5000);\r\n        let nonce;\r\n        let getNonce = data.instance\r\n            .requestPaymentMethod()\r\n            .then(data1 => {\r\n                nonce = data1.nonce;\r\n                let amount = getTotal(products) + getShipping(data.state);\r\n                const paymentData = {\r\n                    paymentMethodNonce: nonce,\r\n                    amount: amount\r\n                };\r\n\r\n                processPayment(userId, token, paymentData)\r\n                    .then(response => {\r\n                        console.log(response);\r\n                        // empty cart\r\n                        // create order\r\n\r\n                        const createOrderData = {\r\n                            products: products,\r\n                            transaction_id: response.transaction.id,\r\n                            amount: response.transaction.amount,\r\n                            address: deliveryAddress,\r\n                            receiptName: receiptNameData,\r\n                            receiptData:receiptDataData\r\n                        };\r\n\r\n                        createOrder(userId, token, createOrderData)\r\n                            .then(response => {\r\n                                emptyCart(() => {\r\n                                    setRun(!run); // run useEffect in parent Cart\r\n                                    console.log('payment success and empty cart');\r\n                                    setData({\r\n                                        loading: false,\r\n                                        success: true,\r\n                                        paid: true\r\n                                    });\r\n                                    \r\n                                });\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error);\r\n                                setData({ loading: false ,paid: true});\r\n                            });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                        setData({ loading: false ,paid: true});\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                // console.log(\"dropin error: \", error);\r\n                setData({ ...data, error: error.message });\r\n                \r\n                \r\n            });\r\n    };\r\n\r\n    const buy2 = () => {\r\n\r\n        setData({ loading: true });\r\n        $('.btn-afterblur').attr(\"disabled\", true);\r\n        const enableBlur =  () => {\r\n            $('.btn-afterblur').attr(\"disabled\", false);\r\n        }\r\n        setTimeout(enableBlur, 5000);\r\n        \r\n        const createOrderData = {\r\n            products: products,\r\n            transaction_id:  'CDM/ATM',\r\n            amount: getTotal(products) + getShipping(data.state),\r\n            address: deliveryAddress,\r\n            receiptName: receiptNameData,\r\n            receiptData:receiptDataData\r\n        };\r\n\r\n\r\n        createOrder(userId, token, createOrderData)\r\n            .then(() => {\r\n                emptyCart(() => {\r\n                    setRun(!run); // run useEffect in parent Cart\r\n                    console.log('payment success and empty cart');\r\n                    console.log(createOrderData.address);\r\n                    \r\n                    setData({\r\n                        loading: false,\r\n                        success: true,\r\n                        paid: true\r\n                    });\r\n                    \r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                setData({ loading: false ,paid: true});\r\n                \r\n            });\r\n    }\r\n\r\n    const showAdressForm = (paid) => {\r\n        return(\r\n            <div className=\"form-group mb-3 border border-primary p-3 rounded\" style={{ display: paid ? 'none' : '' }}>\r\n            {data.clientToken !== null && products.length > 0 ? (\r\n                <div>\r\n            <label className=\"text-muted\">Delivery address:</label>\r\n                                <input\r\n                                    onChange={handleAddress('receiver')}\r\n                                    className=\"form-control mt-2\"\r\n                                    value={data.name}\r\n                                    placeholder=\r\n                                    {`name`}\r\n                                />\r\n     \r\n                                <input\r\n                                    onChange={handleAddress('address1')}\r\n                                    className=\"form-control mt-2\"\r\n                                    value={data.address1}\r\n                                    placeholder=\r\n                                    {`address1`}\r\n                                />\r\n                                 <input\r\n                                    onChange={handleAddress('address2')}\r\n                                    className=\"form-control mt-2\"\r\n                                    value={data.address2}\r\n                                    placeholder=\r\n                                    {`address2`}\r\n                                />\r\n                                 <input\r\n                                    onChange={handleAddress('city')}\r\n                                    className=\"form-control mt-2\"\r\n                                    value={data.city}\r\n                                    placeholder=\r\n                                    {`city`}\r\n                                />\r\n                                <input\r\n                                    onChange={handleAddress('poscode')}\r\n                                    className=\"form-control mt-2\"\r\n                                    value={data.poscode}\r\n                                    type=\"number\"\r\n                                    placeholder=\r\n                                    {`poscode`}\r\n                                />\r\n                                <select className=\"form-control mb-5 mt-2\" onChange={handleAddress('state')}>\r\n                                    <option>state</option>\r\n                                    <option value=\"Terengganu\">Terengganu</option>\r\n                                    <option value=\"Sarawak\">Sarawak</option>\r\n                                    <option value=\"Sabah\">Sabah</option>\r\n                                    <option value=\"Penang\">Penang</option>\r\n                                    <option value=\"Perlis\">Perlis</option>\r\n                                    <option value=\"Pahang\">Pahang</option>\r\n                                    <option value=\"Negeri Sembilan\">Negeri Sembilan</option>\r\n                                    <option value=\"Malacca\">Malacca</option>\r\n                                    <option value=\"Selangor\">Selangor</option>\r\n                                    <option value=\"Perak\">Perak</option>\r\n                                    <option value=\"Kelantan\">Kelantan</option>\r\n                                    <option value=\"Kedah\">Kedah</option>\r\n                                    <option value=\"Johor\">Johor</option>\r\n                                    <option value=\"Kuala Lumpur\">Kuala Lumpur</option>\r\n                                    <option value=\"Putrajaya\">Putrajaya</option>\r\n                                    <option value=\"Labuan\">Labuan</option>\r\n                                    \r\n                                \r\n                                </select> </div> ) : null} </div>\r\n        )\r\n    }\r\n\r\n    const showDropOut = () => {   \r\n        if (!test) {\r\n            return( !data.paid && (                        \r\n                <div className=\"mt-5\">\r\n                    <div className=\" border border-primary p-3 rounded\">\r\n                    \r\n                        \r\n                           \r\n                        <h5>ATM/Cash Deposit</h5>\r\n                        <p className=\"mt-4\">enter the bank name</p>\r\n                        <select className=\"form-control mb-5\" onChange={handleReceipt}>\r\n                            <option>choose bank name</option>\r\n                            <option value=\"Maybank\">Maybank</option>\r\n                            <option value=\"bank islam\" >Bank Islam</option>\r\n                            <option value=\"CIMB bank\">CIMB bank</option>\r\n                        \r\n                        </select>\r\n                        <p>enter receipt image</p>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                    <label className=\"btn btn-secondary\">\r\n                                        <input type=\"file\" onChange={handlePhoto} accept=\"image/*\"/>\r\n                                    </label>\r\n                                <img src={data.receiptData} className=\"img-thumbnail rounded\" alt=\"\"/>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                        <button onClick={buy2} className=\"btn btn-afterblur btn-success btn-block\">\r\n                        Pay\r\n                        </button>\r\n                </div> \r\n            ))\r\n        } \r\n    }\r\n\r\n    const showDropIn = () => {\r\n        if (test) {\r\n            return(\r\n            \r\n                <div className=\"mt-5\" onBlur={() => setData({ ...data, error: '' })}>\r\n                    {data.clientToken !== null && products.length > 0 ? (\r\n                        <div className=\" border border-primary p-3 rounded\">\r\n                           \r\n        \r\n                            <DropIn\r\n                                options={{\r\n                                    authorization: data.clientToken,\r\n                                    paypal: {\r\n                                        flow: 'vault'\r\n                                    }\r\n                                }}\r\n                                onInstance={instance => (data.instance = instance)}\r\n                            />\r\n                            <button onClick={buy} className=\"btn btn-success btn-block\">\r\n                                Pay\r\n                            </button>\r\n                        </div>\r\n                    ) : null}\r\n                </div>\r\n                )\r\n        }\r\n        \r\n    };\r\n\r\n    const showError = error => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = success => (\r\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\r\n            Thanks! Your payment was successful!\r\n        </div>\r\n    );\r\n\r\n    const showLoading = loading => loading && <h2 className=\"text-danger\">Loading...</h2>;\r\n\r\n    return (\r\n        <div>\r\n            <h2>Total: RM {getTotal() + getShipping(data.state)}</h2>\r\n            {showLoading(data.loading)}\r\n            {showSuccess(data.success)}\r\n            {showError(data.error)}\r\n            \r\n            \r\n            {showCheckout()}\r\n            {/* {cardPaypal(data.card)}\r\n            {transferAtm(data.transfer)} */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from './Layout';\r\nimport { getCart } from './cartHelpers';\r\nimport Card from './Card';\r\nimport Checkout from './Checkout';\r\n\r\nconst Cart = () => {\r\n    const [items, setItems] = useState([]);\r\n    const [run, setRun] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setItems(getCart());\r\n    }, [run]);\r\n\r\n    const showItems = items => {\r\n        return (\r\n            <div>\r\n                <h2>Your cart has {`${items.length}`} items</h2>\r\n                <hr />\r\n                {items.map((product, i) => (\r\n                    <Card\r\n                        key={i}\r\n                        product={product}\r\n                        showAddToCartButton={false}\r\n                        cartUpdate={true}\r\n                        showRemoveProductButton={true}\r\n                        setRun={setRun}\r\n                        run={run}\r\n                    />\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const noItemsMessage = () => (\r\n        <h2>\r\n            Your cart is empty. <br /> <Link to=\"/shop\">Continue shopping</Link>\r\n        </h2>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Shopping Cart\"\r\n            description=\"Manage your cart items. Add remove checkout or continue shopping.\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">{items.length > 0 ? showItems(items) : noItemsMessage()}</div>\r\n\r\n                <div className=\"col-6\">\r\n                    <h2 className=\"mb-4\">Your cart summary</h2>\r\n                    <hr />\r\n                    <Checkout products={items} setRun={setRun} run={run} />\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\";\r\nimport moment from \"moment\";\r\n\r\nconst Orders = () => {\r\n    const [orders, setOrders] = useState([]);\r\n    const [statusValues, setStatusValues] = useState([]);\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const loadOrders = () => {\r\n        listOrders(user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setOrders(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadStatusValues = () => {\r\n        getStatusValues(user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setStatusValues(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadOrders();\r\n        loadStatusValues();\r\n    }, []);\r\n\r\n    const showOrdersLength = () => {\r\n        if (orders.length > 0) {\r\n            return (\r\n                <h1 className=\"text-danger display-2\">\r\n                    Total orders: {orders.length}\r\n                </h1>\r\n            );\r\n        } else {\r\n            return <h1 className=\"text-danger\">No orders</h1>;\r\n        }\r\n    };\r\n\r\n    const showInput = (key, value) => (\r\n        <div className=\"input-group mb-2 mr-sm-2\">\r\n            <div className=\"input-group-prepend\">\r\n                <div className=\"input-group-text\">{key}</div>\r\n            </div>\r\n            <input\r\n                type=\"text\"\r\n                value={value}\r\n                className=\"form-control\"\r\n                readOnly\r\n            />\r\n        </div>\r\n    );\r\n\r\n    const handleStatusChange = (e, orderId) => {\r\n        updateOrderStatus(user._id, token, orderId, e.target.value).then(\r\n            data => {\r\n                if (data.error) {\r\n                    console.log(\"Status update failed\");\r\n                } else {\r\n                    loadOrders();\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const showStatus = o => (\r\n        <div className=\"form-group\">\r\n            <h3 className=\"mark mb-4\">Status: {o.status}</h3>\r\n            <select\r\n                className=\"form-control\"\r\n                onChange={e => handleStatusChange(e, o._id)}\r\n            >\r\n                <option>Update Status</option>\r\n                {statusValues.map((status, index) => (\r\n                    <option key={index} value={status}>\r\n                        {status}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Orders\"\r\n            description={`G'day ${\r\n                user.name\r\n            }, you can manage all the orders here`}\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showOrdersLength()}\r\n\r\n                    {orders.map((o, oIndex) => {\r\n                        return (\r\n                            <div\r\n                                className=\"mt-5\"\r\n                                key={oIndex}\r\n                                style={{ borderBottom: \"5px solid indigo\" }}\r\n                            >\r\n                                <h2 className=\"mb-5\">\r\n                                    <span className=\"bg-primary\">\r\n                                        Order ID: {o._id}\r\n                                    </span>\r\n                                </h2>\r\n\r\n                                <ul className=\"list-group mb-2\">\r\n                                    <li className=\"list-group-item\">\r\n                                        {showStatus(o)}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Transaction ID: {o.transaction_id}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Amount: ${o.amount}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Ordered by: {o.user.name}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Ordered on:{\" \"}\r\n                                        {moment(o.createdAt).fromNow()}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Delivery address: {o.address}\r\n                                    </li>\r\n                                </ul>\r\n\r\n                                <h3 className=\"mt-4 mb-4 font-italic\">\r\n                                    Total products in the order:{\" \"}\r\n                                    {o.products.length}\r\n                                </h3>\r\n\r\n                                {o.products.map((p, pIndex) => (\r\n                                    <div\r\n                                        className=\"mb-4\"\r\n                                        key={pIndex}\r\n                                        style={{\r\n                                            padding: \"20px\",\r\n                                            border: \"1px solid indigo\"\r\n                                        }}\r\n                                    >\r\n                                        {showInput(\"Product name\", p.name)}\r\n                                        {showInput(\"Product price\", p.price)}\r\n                                        {showInput(\"Product total\", p.count)}\r\n                                        {showInput(\"Product Id\", p._id)}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\n// eslint-disable-next-line\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { read, update, updateUser } from \"./apiUser\";\r\nimport axios from 'axios';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Profile = ({ match }) => {\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        error: false,\r\n        buttonText:'Request password reset link',\r\n        success: false\r\n    });\r\n\r\n    const { token } = isAuthenticated();\r\n    // eslint-disable-next-line\r\n    const { name, email, password, error, success , buttonText} = values;\r\n\r\n    const init = userId => {\r\n        // console.log(userId);\r\n        read(userId, token).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: true });\r\n            } else {\r\n                setValues({ ...values, name: data.name, email: data.email });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.userId);\r\n    }, []);\r\n\r\n    const handleChange = name => e => {\r\n        setValues({ ...values, error: false, [name]: e.target.value });\r\n    };\r\n\r\n    const changePassword = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, buttonText: 'Submitting' });\r\n        axios({\r\n            method: 'PUT',\r\n            url: `${process.env.REACT_APP_API}/forgot-password`,\r\n            data: { email }\r\n        })\r\n            .then(response => {\r\n                console.log('FORGOT PASSWORD SUCCESS', response);\r\n                toast.success(response.data.message);\r\n                setValues({ ...values, buttonText: 'Requested' });\r\n            })\r\n            .catch(error => {\r\n                console.log('FORGOT PASSWORD ERROR', error.response.data);\r\n                toast.error(error.response.data.error);\r\n                setValues({ ...values, buttonText: 'Request password reset link' });\r\n            });\r\n    };\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault();\r\n        update(match.params.userId, token, { name, email, password }).then(\r\n            data => {\r\n                if (data.error) {\r\n                    console.lgo(data.error);\r\n                } else {\r\n                    updateUser(data, () => {\r\n                        setValues({\r\n                            ...values,\r\n                            name: data.name,\r\n                            email: data.email,\r\n                            success: true\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const redirectUser = success => {\r\n        if (success) {\r\n            return <Redirect to=\"/user/dashboard\" />;\r\n        }\r\n    };\r\n\r\n    const profileUpdate = (name, email, password) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input\r\n                    type=\"text\"\r\n                    onChange={handleChange(\"name\")}\r\n                    className=\"form-control\"\r\n                    value={name}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input\r\n                    type=\"email\"\r\n                    onChange={handleChange(\"email\")}\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                />\r\n            </div>\r\n\r\n            <button onClick={changePassword} className=\"btn btn-success row ml-1 mb-3\">\r\n                {buttonText}\r\n            </button>\r\n            <br/>\r\n\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n            Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Profile\"\r\n            description=\"Update your profile\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <h2 className=\"mb-4\">Profile update</h2>\r\n            {profileUpdate(name, email, password)}\r\n            {redirectUser(success)}\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\r\n\r\nconst ManageProducts = () => {\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const loadProducts = () => {\r\n        getProducts().then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setProducts(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const destroy = productId => {\r\n        deleteProduct(productId, user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                loadProducts();\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadProducts();\r\n    }, []);\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Manage Products\"\r\n            description=\"Perform CRUD on products\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h2 className=\"text-center\">\r\n                        Total {products.length} products\r\n                    </h2>\r\n                    <hr />\r\n                    <ul className=\"list-group\">\r\n                        {products.map((p, i) => (\r\n                            <li\r\n                                key={i}\r\n                                className=\"list-group-item d-flex justify-content-between align-items-center\"\r\n                            >\r\n                                <strong>{p.name}</strong>\r\n                                <Link to={`/admin/product/update/${p._id}`}>\r\n                                    <span className=\"badge badge-warning badge-pill\">\r\n                                        Update\r\n                                    </span>\r\n                                </Link>\r\n                                <span\r\n                                    onClick={() => destroy(p._id)}\r\n                                    className=\"badge badge-danger badge-pill\"\r\n                                >\r\n                                    Delete\r\n                                </span>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                    <br />\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { getProduct, getCategories, updateProduct } from './apiAdmin';\r\n\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        categories: [],\r\n        category: '',\r\n        shipping: '',\r\n        quantity: '',\r\n        image1:'',\r\n        image2:'',\r\n        image3:'',\r\n        image4:'',\r\n        image5:'',\r\n        image6:'',\r\n        loading: false,\r\n        error: false,\r\n        createdProduct: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        // categories,\r\n        category,\r\n        shipping,\r\n        image1,\r\n        image2,\r\n        image3,\r\n        image4,\r\n        image5,\r\n        image6,\r\n        quantity,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    const init = productId => {\r\n        getProduct(productId).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                // populate the state\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name,\r\n                    description: data.description,\r\n                    price: data.price,\r\n                    image1: data.image1,\r\n                    image2: data.image2,\r\n                    image3: data.image3,\r\n                    image4: data.image4,\r\n                    image5: data.image5,\r\n                    image6: data.image6,\r\n                    category: data.category._id,\r\n                    shipping: data.shipping,\r\n                    quantity: data.quantity,\r\n                    formData: new FormData()\r\n                });\r\n                // load categories\r\n                initCategories();\r\n            }\r\n        });\r\n    };\r\n\r\n    // load categories and set form data\r\n    const initCategories = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.productId);\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value = event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: '', loading: true });\r\n\r\n        updateProduct(match.params.productId, user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                console.log(data);\r\n                \r\n                setValues({\r\n                    ...values,\r\n                    name: '',\r\n                    description: '',\r\n                    photo: '',\r\n                    price: '',\r\n                    image1:'',\r\n                    image2:'',\r\n                    image3:'',\r\n                    image4:'',\r\n                    image5:'',\r\n                    image6:'',\r\n                    quantity: '',\r\n                    loading: false,\r\n                    error: false,\r\n                    redirectToProfile: true,\r\n                    createdProduct: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    \r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Image</label>\r\n                <input onChange={handleChange('image1')} type=\"text\" className=\"form-control\" value={image1} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input onChange={handleChange('image2')} type=\"text\" className=\"form-control\" value={image2} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input onChange={handleChange('image3')} type=\"text\" className=\"form-control\" value={image3} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input onChange={handleChange('image4')} type=\"text\" className=\"form-control\" value={image4} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input onChange={handleChange('image5')} type=\"text\" className=\"form-control\" value={image5} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input onChange={handleChange('image6')} type=\"text\" className=\"form-control\" value={image6} />\r\n            </div>\r\n          \r\n\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                    <option>Please select</option>\r\n                    {categories &&\r\n                        categories.map((c, i) => (\r\n                            <option key={i} value={c._id}>\r\n                                {c.name}\r\n                            </option>\r\n                        ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\">\r\n                    <option>Please select</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary\">Update Product</button>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: createdProduct ? '' : 'none' }}>\r\n            <h2>{`${createdProduct}`} is updated!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-success\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToProfile) {\r\n            if (!error) {\r\n                return <Redirect to=\"/\" />;\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Layout title=\"Add a new product\" description={`G'day ${user.name}, ready to add a new product?`}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showLoading()}\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                    {redirectUser()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import { API } from \"../config\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Card from '../core/Card';\r\n\r\n\r\n\r\nexport const M_Search = () => {\r\n    localStorage.setItem('M_Search', JSON.stringify(''));\r\n    let seachHistory = localStorage.getItem('M_Search').replace(/['\"]+/g, '');\r\n    const [data, setData] = useState({\r\n        categories: [],\r\n        category: \"\",\r\n        search: seachHistory,\r\n        minPrice: \"\",\r\n        maxPrice: \"\",\r\n        results: [],\r\n        searched: false\r\n    });\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const {  category, search, results, searched,minPrice,maxPrice,page } = data;\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n \r\n    }, []);\r\n\r\n    const list = params => {\r\n    localStorage.setItem('M_Search', JSON.stringify(params.search));\r\n    \r\n\r\n    \r\n      return fetch(`${API}/mercari/search?page=${page || 1}&min_price=${Math.trunc(minPrice/0.038)}&max_price=${Math.trunc(maxPrice/0.038)}&search=${search}`, {\r\n          method: \"GET\"\r\n      })\r\n          .then(response => {\r\n              return response.json();\r\n          })\r\n          .catch(err => console.log(err));\r\n    };\r\n\r\n    const searchData = () => {\r\n        setLoading(true)\r\n        if (search) {\r\n            list({ search: search || undefined, category: category }).then(\r\n                response => {\r\n                    if (response.error) {\r\n                        console.log(response.error);\r\n                    } else {\r\n                        setData({ ...data, results: response, searched: true });\r\n                        setLoading(false)\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    const searchSubmit = e => {\r\n        e.preventDefault();\r\n        searchData();\r\n    };\r\n\r\n    const handleChange = name => event => {\r\n        setData({ ...data, [name]: event.target.value, searched: false });    \r\n    };\r\n\r\n \r\n\r\n    const searchedProducts = (results = []) => {\r\n        \r\n        return (\r\n            <div>\r\n               \r\n\r\n                <div className=\"row\">\r\n                    {results.map((product, i) => (\r\n                        <div className=\"col-4 mb-3\">\r\n                            <Card key={i} product={product} cartUpdate={false}/>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const searchForm = () => (\r\n        <form onSubmit={searchSubmit}>\r\n            <span className=\"input-group-text\">\r\n                <div className=\"input-group input-group-lg\">\r\n                    <input\r\n                        type=\"search\"\r\n                        className=\"form-control\"\r\n                        onChange={handleChange(\"search\")}\r\n                        placeholder=\"Search by name\"\r\n                        value={data.search}\r\n                    />\r\n                   \r\n                </div>\r\n                \r\n                <div\r\n                    className=\"btn input-group-append\"\r\n                    style={{ border: \"none\" }}\r\n                >\r\n                    <button className=\"input-group-text\">Search</button>\r\n                </div>\r\n                \r\n            </span>\r\n            <span className=\"input-group-text\">\r\n                <div className=\"input-group input-group-lg\">\r\n                   \r\n                    <input\r\n                        type=\"number\"\r\n                        className=\"form-control\"\r\n                        onChange={handleChange(\"minPrice\")}\r\n                        placeholder=\"minumum price\"\r\n                    />\r\n                    <input\r\n                        type=\"number\"\r\n                        className=\"form-control\"\r\n                        onChange={handleChange(\"maxPrice\")}\r\n                        placeholder=\"maximum price\"\r\n                    />\r\n                     <input\r\n                        type=\"number\"\r\n                        className=\"form-control\"\r\n                        onChange={handleChange(\"page\")}\r\n                        placeholder=\"page number\"\r\n                    />\r\n                </div>         \r\n            </span>\r\n            \r\n        </form>\r\n    );\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-success\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"container mb-3\">{searchForm()}</div>\r\n            <div className=\"container-fluid mb-3\">\r\n                {showLoading()}\r\n                {searchedProducts(results)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport const Item1 = ({name}) => {\r\n    const [data, setData] = useState({\r\n        results: [],\r\n    });\r\n    const {  results} = data;\r\n    useEffect(() => {   \r\n        searchData()\r\n    }, []);\r\n\r\n    const list = haha => {\r\n      return fetch(`${API}/mercari/search?page=1&search=${name}`, {\r\n          method: \"GET\"\r\n      })\r\n          .then(response => {\r\n              return response.json();\r\n          })\r\n          .catch(err => console.log(err));\r\n    };\r\n\r\n    const searchData = () => {\r\n    \r\n            list().then(\r\n                res => {\r\n                    if (res.error) {\r\n                        console.log(res.error);\r\n                    } else {\r\n                        setData({ ...data, results: res.slice(0,8 )});       \r\n                    }\r\n                }\r\n            );\r\n            \r\n            \r\n        \r\n    };\r\n    const searchedProducts = (results = []) => {  \r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    {results.map((product, i) => (\r\n                        <div className=\"col-sm-6 col-md-4 col-lg-3 col-xl-3 mb-3\">\r\n                            <Card key={i} product={product} cartUpdate={false}/>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"container-fluid mb-3\">\r\n                {searchedProducts(results)}             \r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport {M_Search, Item1} from './apiMercari';\r\n\r\nconst M_Product = () => {\r\n    useEffect(() => {\r\n       \r\n    }, []);\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Shop from Mercari\"\r\n            description=\"Get item directly from the largest preloved site at japan\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <M_Search />\r\n            <h2>Famous Item</h2>\r\n            <h4 className=\"text-center\">G-SHOCK</h4>\r\n            <Item1 name='casiogshock'/>\r\n            <h4 className=\"text-center  mt-3\">BAG</h4>\r\n            <Item1 name='gregory'/>\r\n            <h4 className=\"text-center  mt-3\">SHIRT</h4>\r\n            <Item1 name='duck dude'/>\r\n            <h4 className=\"text-center  mt-3\">CAP</h4>\r\n            <Item1 name='new era'/><h4 className=\"text-center  mt-3\">BATHING APE</h4>\r\n            <Item1 name='bathing ape'/>\r\n           \r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default  M_Product;\r\n\r\n\r\n/* jam \r\ngregory\r\nduck dude\r\nnew era\r\nbodykit car */\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport jwt from 'jsonwebtoken';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Activate = ({ match }) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        token: '',\r\n        show: true\r\n    });\r\n\r\n    useEffect(() => {\r\n        let token = match.params.token;\r\n        let { name } = jwt.decode(token);\r\n        // console.log(token);\r\n        if (token) {\r\n            setValues({ ...values, name, token });\r\n        }\r\n    }, []);\r\n\r\n    const { name, token, show } = values;\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        axios({\r\n            method: 'POST',\r\n            url: `${process.env.REACT_APP_API}/account-activation`,\r\n            data: { token }\r\n        })\r\n            .then(response => {\r\n                console.log('ACCOUNT ACTIVATION', response);\r\n                setValues({ ...values, show: false });\r\n                toast.success(response.data.message);\r\n            })\r\n            .catch(error => {\r\n                console.log('ACCOUNT ACTIVATION ERROR', error.response.data.error);\r\n                toast.error(error.response.data.error);\r\n            });\r\n    };\r\n\r\n    const activationLink = () => (\r\n        <div className=\"text-center\">\r\n            <h1 className=\"p-5\">Hey {name}, Ready to activate your account?</h1>\r\n            <button className=\"btn btn-outline-primary\" onClick={clickSubmit}>\r\n                Activate Account\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                {activationLink()}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Activate;\r\n","import React, { useState } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Forgot = ({ history }) => {\r\n    const [values, setValues] = useState({\r\n        email: '',\r\n        buttonText: 'Request password reset link'\r\n    });\r\n\r\n    const { email, buttonText } = values;\r\n\r\n    const handleChange = name => event => {\r\n        // console.log(event.target.value);\r\n        setValues({ ...values, [name]: event.target.value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, buttonText: 'Submitting' });\r\n        axios({\r\n            method: 'PUT',\r\n            url: `${process.env.REACT_APP_API}/forgot-password`,\r\n            data: { email }\r\n        })\r\n            .then(response => {\r\n                console.log('FORGOT PASSWORD SUCCESS', response);\r\n                toast.success(response.data.message);\r\n                setValues({ ...values, buttonText: 'Requested' });\r\n            })\r\n            .catch(error => {\r\n                console.log('FORGOT PASSWORD ERROR', error.response.data);\r\n                toast.error(error.response.data.error);\r\n                setValues({ ...values, buttonText: 'Request password reset link' });\r\n            });\r\n    };\r\n\r\n    const passwordForgotForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input onChange={handleChange('email')} value={email} type=\"email\" className=\"form-control\" />\r\n            </div>\r\n\r\n            <div>\r\n                <button className=\"btn btn-primary\" onClick={clickSubmit}>\r\n                    {buttonText}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                <h1 className=\"p-5 text-center\">Forgot password</h1>\r\n                {passwordForgotForm()}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Forgot;\r\n","import React, { useState, useEffect } from 'react';\r\nimport jwt from 'jsonwebtoken';\r\nimport Layout from '../core/Layout';\r\nimport axios from 'axios';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\n\r\nconst Reset = ({ match }) => {\r\n    // props.match from react router dom\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        token: '',\r\n        newPassword: '',\r\n        buttonText: 'Reset password'\r\n    });\r\n\r\n    useEffect(() => {\r\n        let token = match.params.token;\r\n        let { name } = jwt.decode(token);\r\n        // console.log(name);\r\n        if (token) {\r\n            setValues({ ...values, name, token });\r\n        }\r\n    }, []);\r\n\r\n    const { name, token, newPassword, buttonText } = values;\r\n\r\n    const handleChange = event => {\r\n        setValues({ ...values, newPassword: event.target.value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, buttonText: 'Submitting' });\r\n        axios({\r\n            method: 'PUT',\r\n            url: `${process.env.REACT_APP_API}/reset-password`,\r\n            data: { newPassword, resetPasswordLink: token }\r\n        })\r\n            .then(response => {\r\n                console.log('RESET PASSWORD SUCCESS', response);\r\n                toast.success(response.data.message);\r\n                setValues({ ...values, buttonText: 'Done' });\r\n            })\r\n            .catch(error => {\r\n                console.log('RESET PASSWORD ERROR', error.response.data);\r\n                toast.error(error.response.data.error);\r\n                setValues({ ...values, buttonText: 'Reset password' });\r\n            });\r\n    };\r\n\r\n    const passwordResetForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input\r\n                    onChange={handleChange}\r\n                    value={newPassword}\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Type new password\"\r\n                    required\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <button className=\"btn btn-primary\" onClick={clickSubmit}>\r\n                    {buttonText}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Layout>\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                <ToastContainer />\r\n                <h1 className=\"p-5 text-center\">Hey {name}, Type your new password</h1>\r\n                {passwordResetForm()}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Reset;\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';\r\nimport Home from './core/Home';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport Dashboard from './user/UserDashboard';\r\nimport AdminRoute from './auth/AdminRoute';\r\nimport AdminDashboard from './admin/AdminDashboard';\r\nimport AddCategory from './admin/AddCategory';\r\nimport AddProduct from './admin/AddProduct';\r\nimport Shop from './core/Shop';\r\nimport Product from './core/Product';\r\nimport Cart from './core/Cart';\r\nimport Orders from './admin/Orders';\r\nimport Profile from './user/Profile';\r\nimport ManageProducts from './admin/ManageProducts';\r\nimport UpdateProduct from './admin/UpdateProduct';\r\nimport M_Product from './mercari/Mercari';\r\nimport Activate from './auth/Activate';\r\nimport Forgot from './auth/Forgot';\r\nimport Reset from './auth/Reset';\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Home} />\r\n                <Route path=\"/shop\" exact component={Shop} />\r\n                <Route path=\"/mercari\" exact component={M_Product} />\r\n                <Route path=\"/auth/password/forgot\" exact component={Forgot} />\r\n                <Route path=\"/auth/activate/:token\" exact component={Activate} />\r\n                <Route path=\"/auth/password/reset/:token\" exact component={Reset} />\r\n                <Route path=\"/signin\" exact component={Signin} />\r\n                <Route path=\"/signup\" exact component={Signup} />\r\n                <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\r\n                <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n                <AdminRoute path=\"/create/category\" exact component={AddCategory} />\r\n                <AdminRoute path=\"/create/product\" exact component={AddProduct} />\r\n                <Route path=\"/product/:productId\" exact component={Product} />\r\n                <Route path=\"/cart\" exact component={Cart} />\r\n                <AdminRoute path=\"/admin/orders\" exact component={Orders} />\r\n                <PrivateRoute path=\"/profile/:userId\" exact component={Profile} />\r\n                <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n                <AdminRoute path=\"/admin/product/update/:productId\" exact component={UpdateProduct} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routes from './Routes';\r\n\r\n\r\nReactDOM.render(<Routes />, document.getElementById('root'));\r\n"],"sourceRoot":""}